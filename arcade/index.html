<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <title>VR Arcade</title>

    <!-- Register component BEFORE the scene -->
    <script>
      AFRAME.registerComponent("back-to-main", {
        init: function () {
          this.el.addEventListener("click", () => {
            window.location.href = "../index.html";
          });
        },
      });
    </script>
  </head>

  <body>
    <a-scene fog="type: linear; color: #d8a7ff; near: 1; far: 30">
      <!-- Camera + Cursor + Raycaster -->
      <a-entity camera look-controls raycaster="objects: .clickable">
        <a-cursor
          cursor="rayOrigin: mouse"
          raycaster="objects: .clickable"
        ></a-cursor>

        <!-- Floating Back Button (HUD) -->
        <a-entity id="backButton" back-to-main position="-0.8 -0.6 -1.5">
          <!-- Plane -->
          <a-plane
            color="#ff00c8"
            width="0.8"
            height="0.3"
            class="clickable"
            position="0 0 0"
          >
          </a-plane>

          <!-- Text -->
          <a-text
            value="Back to Reality!"
            align="center"
            position="0 0 0.01"
            color="#ffffff"
            width="2"
            class="clickable"
          ></a-text>
        </a-entity>
      </a-entity>

      <!-- Ground plane -->
      <a-plane
        position="0 0 -4"
        rotation="-90 0 0"
        width="200"
        height="200"
        color="#ffb3d9"
      ></a-plane>

      <!-- Retro sun -->
      <a-circle position="0 10 -20" radius="4" color="#ffcc66"></a-circle>

      <!-- Planet -->
      <a-sphere
        position="6 7 -28"
        radius="3"
        src="../resources/neptune.jpg"
        opacity="0.9"
      ></a-sphere>

      <!-- Main Arcade Machine -->
      <a-entity position="-2 0 -6">
        <a-box depth="1" height="2" width="1" color="#222"></a-box>
        <a-plane
          position="0 0.4 0.51"
          width="0.7"
          height="0.5"
          color="#87cefa"
        ></a-plane>
        <a-box
          position="0 1.1 0.3"
          depth="0.4"
          height="0.4"
          width="1"
          color="#ffb3d9"
        ></a-box>
        <a-box
          position="0 -0.4 0.5"
          depth="0.2"
          height="0.3"
          width="0.8"
          color="#333"
        ></a-box>
      </a-entity>

      <!-- Distant Mini Arcade -->
      <a-entity position="-6 0 -12" scale="0.6 0.6 0.6" rotation="0 20 0">
        <a-box depth="1" height="2" width="1" color="#222"></a-box>
        <a-plane
          position="0 0.4 0.51"
          width="0.7"
          height="0.5"
          color="#87cefa"
        ></a-plane>
        <a-box
          position="0 1.1 0.3"
          depth="0.4"
          height="0.4"
          width="1"
          color="#ffb3d9"
        ></a-box>
        <a-box
          position="0 -0.4 0.5"
          depth="0.2"
          height="0.3"
          width="0.8"
          color="#333"
        ></a-box>
      </a-entity>

      <!-- Sky -->
      <a-sky color="#87cefa"></a-sky>
    </a-scene>
  </body>
</html>
